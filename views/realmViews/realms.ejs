<!DOCTYPE html>
<html>
<head>
  <title><%= title %></title>
  <link href="/css/output.css" rel="stylesheet">
</head>
<body>
  <header class="px-4 bg-green-800 text-white">
    <div class="relative mx-auto py-6 flex justify-center items-center max-w-screen-lg sm:flex-row sm:items-center">
        <a class="text-3xl font-bold" href="/">The Lord of the Rings DB</a>
    </div>
  </header>

  <h1 class="my-10 px-4 text-center text-3xl font-bold"><%= title %></h1>

  <div class="overflow-y-hidden rounded-lg border max-w-screen-2xl my-20 mx-auto">
  <div class="overflow-x-auto text-3xl">
    <table class="w-full">
      <thead>
        <tr class="bg-green-600 text-left font-bold text-white">
          <th class="px-5 py-3">Realm Name</th>
          <th class="px-5 py-3 italic">Update</th>
          <th class="px-5 py-3 italic">Delete</th>
        </tr>
      </thead>
      <tbody class="text-2xl">
        <% if (locals.realms) {%>
          <% realms.forEach(realm => { %>
            <tr>
              <td class="border-b border-gray-200 bg-white px-5 py-5">
                <p class="whitespace-no-wrap"><%= realm.name %></p>
              </td>
              
              <td class="border-b border-gray-200 bg-white px-5 py-5">
                <a href="/realms/<%= realm.name %>/update"><button class="px-5 bg-gray-200 hover:bg-gray-300 rounded-lg" type="button">Update</button></a>
              </td>  
              
              <td class="border-b border-gray-200 bg-white px-5 py-5">
                <form action="/realms/<%= realm.name %>/delete" method="POST" style="display:inline;">
                  <button class="px-5 bg-red-200 hover:bg-red-300 rounded-lg" type="submit" onclick="return confirm('Are you sure you want to delete this realm?');">Delete</button>
                </form>              
              </td> 
            </tr>
          <% }); %>
        <% } %>
      </tbody>
    </table>
  </div>
  </div>
  
  <div class="flex justify-center w-full"><a href="/realms/add"><button class="text-2xl p-5 bg-gray-200 hover:bg-gray-300 rounded-lg">Create a new realm</button></a></div>
  <script type="text/javascript">
    function showInfo() {
      <% if (locals.error) { %>
        alert("<%= locals.error %>");
      <% } %>
    }
    showInfo();
  </script>
</body>
</html>