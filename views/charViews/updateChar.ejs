<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link href="/css/output.css" rel="stylesheet">

  </head>
<body>
  <header class="px-4 bg-green-800 text-white">
    <div class="relative mx-auto py-6 flex justify-center items-center max-w-screen-lg sm:flex-row sm:items-center">
        <a class="text-3xl font-bold" href="/">The Lord of the Rings DB</a>
    </div>
  </header>


  <div class="my-20 mx-auto text-2xl">
    <form method="POST" action="/characters/<%= char.id %>/update" class="relative border border-gray-200 shadow-sm space-y-3 max-w-screen-md mx-auto rounded-md bg-white p-10">
      <h1 class="mb-10 text-3xl font-bold"><%= title %></h1>

      <%- include("../partials/errors.ejs") %>

      <div>
        <label for="name">Name: </label>
        <input type="text" name="name" id="name" value="<%= char.name %>" required class="mt-2 h-12 w-full rounded-md bg-gray-100 px-3" />
      </div>

      <div>
        <label for="race">Race: </label>
        <select id="race" name="race" required class="mt-2 h-12 w-full rounded-md bg-gray-100 px-3">
          <% races.forEach(race => { %>
            <% let selected = ""; %>
            <% if (race.name === char.race) { selected = "selected"; }%>
              <option 
                value="<%= race.name %>"
                <%= selected %>
              >
                <%= race.name %>
              </option>
          <% }); %>
        </select>
      </div>

      <div>
        <label for="birth">Birth: </label>
        <input type="text" name="birth" id="birth" value="<%= char.birth %>" class="mt-2 h-12 w-full rounded-md bg-gray-100 px-3" />
      </div>

      <div>
        <label for="death">Death: </label>
        <input type="text" name="death" id="death" value="<%= char.death %>" class="mt-2 h-12 w-full rounded-md bg-gray-100 px-3" />
      </div>

      <div>
        <label for="gender">Gender: </label>
        <select id="gender" name="gender" required class="mt-2 h-12 w-full rounded-md bg-gray-100 px-3">
          <% let selectMale = ""; let selectFemale =""; %>
          <% if (char.gender === "Male") { %>
            <% selectMale = "selected"; %>
            <% } else { selectFemale = "selected"; } %>
            <option 
              value="Male"
              <%= selectMale %>
            >
              Male
            </option>
            <option 
              value="Female"
              <%= selectFemale %>
            >
              Female
            </option>
        </select>
      </div>

      <div>
        <label for="realm">Realm: </label>
        <select name="realm" id="realm" required class="mt-2 h-12 w-full rounded-md bg-gray-100 px-3">
          <% realms.forEach(realm => { %>
            <% let selected = ""; %>
            <% if (realm.name === char.realm) { selected = "selected"; }%>
              <option 
                value="<%= realm.name %>"
                <%= selected %>
              >
                <%= realm.name %>
              </option>
          <% }); %>
        </select>
      </div>
    
      <div>
        <button type="submit" class="mt-5 w-full rounded-md bg-green-600 p-2 text-center font-semibold text-white">Submit</button>
      </div>
    </form>
  </div>

</body>
</html>